<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Preview</title>
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: black;
            font-family: sans-serif;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>

<body>
    <div id="player-container" style="width:100%; height:100%;"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const videoId = urlParams.get('v');
        const mute = urlParams.get('mute') || '0';

        if (videoId) {
            const container = document.getElementById('player-container');
            const iframe = document.createElement('iframe');

            // Point to the GitHub Proxy which handles the sophisticated JS Autoplay
            const targetUrl = `https://daltoncabrera.github.io/youtube-video-preview/?v=${videoId}&autoplay=1&mute=${mute}`;

            iframe.src = targetUrl;
            iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
            iframe.allowFullscreen = true;
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";

            container.appendChild(iframe);
        } else {
            document.body.innerText = "No Video ID provided";
            document.body.style.color = "#aaa";
            document.body.style.display = "flex";
            document.body.style.justifyContent = "center";
            document.body.style.alignItems = "center";
        }
    </script>
</body>

</html>